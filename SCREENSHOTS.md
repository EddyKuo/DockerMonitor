# DockerMonitor 截圖說明

## Textual TUI 介面

### 主畫面

主要 TUI 介面顯示：
- 主機列表側邊欄（左側）與連線狀態
- 容器表格（中央）與即時資料
- 統計面板（頂部）與摘要資訊
- 狀態列（底部）與鍵盤快捷鍵

```
┌─────────────────────────────────────────────────────────────┐
│  DockerMonitor v0.1.1        [已連線]  2026-01-14 11:30    │
├──────────┬──────────────────────────────────────────────────┤
│ 統計資訊                                                     │
│ 總主機數: 3   已連線: 3   失敗: 0                           │
│ 總容器數: 15   運行中: 12   已停止: 3                       │
├──────────┴──────────────────────────────────────────────────┤
├──────────┬──────────────────────────────────────────────────┤
│ 主機     │  容器 - prod-web-01                              │
│          │  ┌────────────────────────────────────────────┐  │
│ ● prod-  │  │ 名稱    映像    狀態   運行  CPU  記憶體  │  │
│   web-01 │  │ nginx   nginx..  Up 2d    ✓    2%   128M  │  │
│ ● prod-  │  │ webapp  app:1.0  Up 5h    ✓   45%   512M  │  │
│   api-01 │  │ redis   redis..  Up 10d   ✓    1%    64M  │  │
│ ● prod-  │  └────────────────────────────────────────────┘  │
│   db-01  │                                                   │
├──────────┴──────────────────────────────────────────────────┤
│ 主機: 3/3  容器: 12/15  最後更新: 11:30:45                  │
│ [h] 說明  [r] 重新整理  [s] 排序  [l] 語言  [q] 離開       │
└─────────────────────────────────────────────────────────────┘
```

**顯示功能：**
- 已連線主機的綠色（●）指示器
- 容器狀態的顏色編碼（綠色 = 運行中）
- CPU 與記憶體使用百分比
- 即時狀態資訊

### 容器詳情畫面

選定容器的詳細資訊：

```
┌─────────────────────────────────────────────────────────────┐
│ 容器詳情: nginx-proxy                                       │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ ╔══════════════════════════════════════════════════════╗    │
│ ║ 基本資訊                                             ║    │
│ ╠══════════════════════════════════════════════════════╣    │
│ ║ ID         abc123def456                             ║    │
│ ║ 名稱       nginx-proxy                              ║    │
│ ║ 映像       nginx:latest                             ║    │
│ ║ 建立時間   2024-01-10 10:00:00                      ║    │
│ ║ 狀態       Up 2 days                                ║    │
│ ║ 運行中     是                                       ║    │
│ ╚══════════════════════════════════════════════════════╝    │
│                                                              │
│ ╔══════════════════════════════════════════════════════╗    │
│ ║ 網路設定                                             ║    │
│ ╠══════════════════════════════════════════════════════╣    │
│ ║ IP 位址    172.17.0.2                              ║    │
│ ║ 閘道       172.17.0.1                              ║    │
│ ║ 埠映射     80 -> 80/tcp, 443 -> 443/tcp           ║    │
│ ╚══════════════════════════════════════════════════════╝    │
│                                                              │
│ [返回 (ESC)]                                                │
└─────────────────────────────────────────────────────────────┘
```

**顯示功能：**
- 容器基本資訊
- 網路配置
- 埠映射
- 掛載點
- 環境變數

### 說明畫面

內建所有鍵盤快捷鍵的說明：

```
┌─────────────────────────────────────────────────────────────┐
│ DockerMonitor - 說明                                        │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ # 概述                                                      │
│                                                              │
│ DockerMonitor 透過 SSH 跳板機監控多台主機上的 Docker       │
│ 容器。                                                      │
│                                                              │
│ ## 鍵盤快捷鍵                                               │
│                                                              │
│ | 按鍵 | 動作 | 說明 |                                      │
│ |------|------|------|                                      │
│ | h    | 說明 | 顯示此說明畫面 |                            │
│ | r    | 重新整理 | 手動重新整理資料 |                      │
│ | s    | 排序 | 循環切換排序欄位 |                          │
│ | l    | 語言 | 切換中文/英文介面 |                         │
│ | q    | 離開 | 退出應用程式 |                              │
│ | ↑/↓  | 導覽 | 上下移動選擇 |                              │
│                                                              │
│ [關閉 (ESC)]                                                │
└─────────────────────────────────────────────────────────────┘
```

## CLI 輸出範例

### 表格格式

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Docker 監控摘要             ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ 指標              數值      │
├───────────────────┼─────────┤
│ 總主機數          3         │
│ 已連線主機        3         │
│ 總容器數          15        │
│ 運行中            12        │
│ 已停止            3         │
└───────────────────┴─────────┘

┏━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━┓
┃ 主機     ┃ IP            ┃ 已連線    ┃ Docker┃ 容器數     ┃ 運行中  ┃ 已停止  ┃
┡━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━┩
│ prod-web │ 192.168.1.10  │ ✓         │ ✓     │ 5          │ 4       │ 1       │
│ prod-api │ 192.168.1.11  │ ✓         │ ✓     │ 6          │ 5       │ 1       │
│ prod-db  │ 192.168.1.20  │ ✓         │ ✓     │ 4          │ 3       │ 1       │
└──────────┴───────────────┴───────────┴───────┴────────────┴─────────┴─────────┘
```

### JSON 格式

```json
{
  "timestamp": "2026-01-14T11:30:45.123456",
  "summary": {
    "total_hosts": 3,
    "connected_hosts": 3,
    "failed_hosts": 0,
    "total_containers": 15,
    "running_containers": 12,
    "stopped_containers": 3
  },
  "hosts": [
    {
      "host_name": "prod-web-01",
      "hostname": "192.168.1.10",
      "connected": true,
      "docker_available": true,
      "docker_version": "Docker version 20.10.0",
      "container_count": 5,
      "running_count": 4,
      "stopped_count": 1
    }
  ],
  "containers": [
    {
      "id": "abc123def456",
      "name": "nginx-proxy",
      "image": "nginx:latest",
      "status": "Up 2 days",
      "state": "running",
      "host": "prod-web-01",
      "cpu_percent": 2.5,
      "memory_usage": "128MB / 4GB",
      "memory_percent": 3.2
    }
  ]
}
```

### CSV 格式

```csv
主機,名稱,ID,映像,狀態,運行狀態,建立時間,埠,CPU百分比,記憶體使用,記憶體百分比
prod-web-01,nginx-proxy,abc123def456,nginx:latest,Up 2 days,running,2024-01-10,80/tcp,2.5,128MB / 4GB,3.2
prod-web-01,webapp,def456ghi789,app:1.0,Up 5 hours,running,2024-01-13,8080/tcp,45.0,512MB / 4GB,12.8
prod-db-01,postgres,ghi789jkl012,postgres:13,Exited (0),exited,2024-01-08,5432/tcp,,,
```

## 色彩配置

TUI 使用色彩編碼以快速識別狀態：

- **綠色（●）**：已連線主機、運行中容器
- **紅色（○）**：未連線主機、已退出/失敗容器
- **黃色**：暫停容器、警告
- **青色**：已建立/重新啟動中容器、資訊文字
- **白色/灰色**：一般文字、已停止狀態

## 終端需求

為獲得最佳體驗：

- **終端**：支援 Unicode 與色彩的現代終端
  - Windows：Windows Terminal（推薦）、PowerShell、CMD
  - Linux：GNOME Terminal、Konsole、xterm
  - macOS：Terminal.app、iTerm2

- **最小尺寸**：120 欄 × 30 列
- **建議尺寸**：140 欄 × 40 列

- **字型**：支援 Unicode 的等寬字型
  - 推薦：Cascadia Code、Fira Code、JetBrains Mono、Noto Sans Mono CJK

## 多語言支援

DockerMonitor 支援以下語言：

- **繁體中文**（zh_TW）- 預設語言
- **English**（en）

在 TUI 中按 `l` 鍵可即時切換語言。

## 截圖貢獻

若要為此專案新增實際截圖：

1. 使用您的配置執行 DockerMonitor
2. 使用以下工具擷取截圖：
   - Windows：Windows 鍵 + Shift + S
   - Linux：截圖工具或 `scrot`
   - macOS：Command + Shift + 4

3. 將截圖儲存在 `docs/images/` 目錄：
   - `main-screen.png` - 主要 TUI 介面
   - `detail-screen.png` - 容器詳情
   - `help-screen.png` - 說明畫面
   - `cli-output.png` - CLI 表格輸出

4. 使用實際圖片參考更新此檔案：
   ```markdown
   ![主畫面](docs/images/main-screen.png)
   ```

## 使用範例

### TUI 模式操作流程

1. **啟動應用程式**
   ```bash
   python -m src.main tui
   ```

2. **瀏覽主機**
   - 使用 `↑/↓` 鍵在主機列表中移動
   - 綠色圓點表示已連線
   - 紅色圓點表示未連線

3. **檢視容器**
   - 按 `Tab` 切換至容器表格
   - 使用 `↑/↓` 鍵選擇容器
   - 按 `Enter` 查看詳細資訊

4. **排序容器**
   - 按 `s` 鍵循環切換排序欄位
   - 排序選項：名稱、映像、狀態、CPU、記憶體

5. **切換語言**
   - 按 `l` 鍵在中文/英文間切換
   - 介面會立即更新

6. **重新整理資料**
   - 按 `r` 鍵手動重新整理
   - 或等待自動重新整理（預設 60 秒）

### CLI 模式使用

```bash
# 快速檢視所有容器
python -m src.main status

# 只顯示生產環境
python -m src.main status --tags production

# 匯出為 JSON 供其他工具使用
python -m src.main status --format json --output report.json

# 匯出為 CSV 供 Excel 分析
python -m src.main status --format csv --output containers.csv
```

---

**注意**：由於這是基於終端的應用程式，上方顯示的是 ASCII 藝術表示。
實際截圖將提供更好的視覺呈現，包含適當的色彩與格式。

**最後更新**：2026-01-14
